---
description: Акторная модель и ее свойства
---

# Actor Model

Данная модель была разработана для конкурентных/параллельных вычислений еще полвека назад. Она определяет некоторые ключевые правила как системные компоненты должны себя вести и как взаимодействовать друг с другом.

Один из самых популярных языков программирования, использующих эту модель - [Erlang](https://erlang.org) (акторная модель лежит в основе его виртуальной машины BEAM). Erlang в качестве акторов использует легковесные процессы в рамках своей виртуальной машины. Эти процессы обмениваются между собой сообщениями, в том числе и между распределенными процессами. Так реализуется сетевая прозрачность для акторов.

Существуют также реализации этой модели и в других языках. Например, в JAVA есть [фреймворк Akka](https://akka.io). Он предоставляет очень мощьный инструмент для создания решений на основе акторной модели, но, к сожалению, не предоставляет возможности работать с инфраструктурой Erlang нативно.

Ergo Framework реализует акторную модель с готовыми дизайн-паттернами (behaviors), а также реализует полный сетевой стек Erlang (протокол DIST и формат данных ETF. смотрите раздел [ETF/DIST](distributed-nodes/etf-dist.md)). Это дает возможность интегрироваться с инфраструктурой Erlang нативным образом, без необходимости транскодирования данных или адаптации механизмов взаимодействия акторов (обмен сообщениями, линковка, мониторинг).

### Актор

Актором является базовая единица вычислительной системы. В Ergo Framwork в качестве актора используется [gen.Process](../advanced/customization/custom-process.md). Это надстройка над легковесным процессом goroutine.&#x20;

Взаимодействие между акторами производится через асинхронные сообщения и каждый актор имеет "почтовый ящик" входящих сообщений. Объем такого ящика в Ergo Framework можно указать при старте процесса используя gen.ProcessOptions.&#x20;

Обработка почтового ящика производится последовательно в порядке очереди FIFO. Больше подробностей о процессе и параметрах его запуска можно прочитать в разделах [gen.Process](process.md). На базе `gen.Process` в Ergo Framework созданы готовые дизайн-паттерны ([behaviors](behavior.md)) общего назначения [`gen.Server`](../generic-behaviors/server/)`,` [`gen.Supervisor`](../generic-behaviors/supervisor.md), [`gen.Application`](../generic-behaviors/application.md), а также специализированные [`gen.Stage`](../generic-behaviors/server/stage.md), [`gen.Saga`](../generic-behaviors/server/saga.md) и [`gen.Raft`](../generic-behaviors/server/raft.md).

Одним из ключевых особенностей актора `gen.Server` является изолированный state процесса, доступ которому имеет только сам процесс.&#x20;

Помимо получения сообщений и их последующей обработки, актор может:

* отправлять асинхронные сообщения используя `gen.Process.Send(...)` , `gen.ServerProcess.Cast(...)`&#x20;
* делать синхронные вызовы используя `gen.ServerProcess.Call(...)`&#x20;
* создавать новые акторы используя `gen.Process.Spawn(...)`
* модифицировать свой state в процессе обработки входящих сообщений

###

